//2
//Conversion of date        (done)
//INPUT - 12 - 04 - 05.
//OUTPUT- 12th April,2005.
#include<iostream.h>
#include<process.h>
#include<string.h>
#include<conio.h>
#include<stdio.h>
#include<math.h>
#include<ctype.h>

int daysInMon[13] = {0,31,28,31,30,31,30,31,31,30,31,30,31};
int checkLeap(int,int);
int checkdate(int,int,int);

void main()
{	clrscr();
	int flag=1,i,len,a,t=1,s=0,dd[3],x=2;
	char dat[15];
	void date(int);
	void month(int);
	do
	{       t=1;
		s=0;
		x=2;
		clrscr();
		cout<<"\nEnter date in DD-MM-YYYY-> ";
		gets(dat);
		len=strlen(dat);
		for(i=(len-1);i>=-1;i--)
		{	a=dat[i]-48;
			if(a>=0 && a<=9)
			{	s=s+(a*t);
				t*=10;
			}
			else
			{	dd[x]=s;
				s=0;
				t=1;
				--x;
			}
		}
		/*
		cout<<"\nEnter date in DD-MM-YYYY-> ";
		cout<<"\nDD   :: ";
		cin>>dd;
		cout<<"\nMM   :: ";
		cin>>mm;
		cout<<"\nYYYY :: ";
		cin>>yy;*/
		flag=checkdate(dd[0],dd[1],dd[2]);
		cout<<"\nPRESS ENTER.........";
		getch();
	}
	while(flag==0);
	cout<<"\nEntered date is -> "<<dd[0]<<" - "<<dd[1]<<" - "<<dd[2]<<"\n";
	date(dd[0]);
	month(dd[1]);
	cout<<","<<dd[2];
	//cout<<"\n\aP\aR\aE\aS\aS\a \aA\aN\aY\a \aK\aE\aY\a \aT\aO\a \aC\aO\aN\aT\aI\aN\aU\aE\a \a.\a.\a.\a.\a.\a.\a.\a.\a.\a.\a.\a.\a";
	getche();
}

int checkLeap(int y)
{	if( y % 4 == 0 && y % 100 != 0 || y % 400 == 0)
	{	return 29;
	}
	else
	{	return 28;
	}
}
int checkdate(int dd1,int mm1,int yy1)
{	int dinmon,flag=1;
	dinmon = (mm1 == 2 ? checkLeap(yy1) : daysInMon[mm1]);
	if(dd1>=1 && dd1<=dinmon && mm1<=12 && yy1>999 && yy1<10000)
	{	flag=1;
	}
	if(mm1<=0 || mm1>=13)
	{	cout<<"\nRE-ENTER DATE";
		cout<<"\nWRONG MONTH\n";
		flag=0;
	}
	if(dd1<1 || dd1>dinmon)
	{       cout<<"\nRE-ENTER DATE";
		cout<<"\nWRONG DAY\n";
		flag=0;
	}
	if(yy1<1000 || yy1>9999)
	{	cout<<"\nRE-ENTER DATE";
		cout<<"\nWRONG YEAR\n";
		flag=0;
	}
	return flag;
}
void date(int day)
{       if(day>=4 && day<=20)
	{	cout<<"\n"<<day<<"th ";
	}
	else if(day==1 || day==21 || day==31)
	{	cout<<"\n"<<day<<"st ";
	}
	else if(day==2 || day==22 )
	{	cout<<"\n"<<day<<"nd ";
	}
	else if(day==3 || day==23 )
	{	cout<<"\n"<<day<<"rd ";
	}
	else
	{	cout<<"\n"<<day<<"th ";
	}
}

void month(int mont)
{      	char mon[13][20]={
			  "\0",
			  "January\0",
			  "Feburuary\0",
			  "March\0",
			  "April\0",
			  "May\0",
			  "June\0",
			  "July\0",
			  "August\0",
			  "September\0",
			  "October\0",
			  "November\0",
			  "December\0"
			 };
	cout<<mon[mont];
}