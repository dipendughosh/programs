package package1;

import java.io.BufferedReader;
import java.io.BufferedWriter;
/*import java.io.DataInputStream;
import java.io.FileInputStream;
import java.io.FileOutputStream;//*/
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
/*import java.io.InputStream;
import java.io.InputStreamReader;*/



public class LoadAndDisplayPGMa 
{
	private static final long serialVersionUID = 1L;
	
	/*private FileReader fin;
	private FileOutputStream fout;
	private DataInputStream din;*/
	private BufferedReader bin;
	private BufferedWriter bout;
	
	public LoadAndDisplayPGMa()
	{
	}

	public static void main(String[] args) 
	{
		LoadAndDisplayPGMa ob = new LoadAndDisplayPGMa ();
		ob.openFiles();
		ob.readwrite();
		ob.closeFile();
	}

	private void closeFile()
	{
		try
		{
			bin.close();
		}
		catch (IOException e)
		{
			e.printStackTrace();
		}
		try 
		{
			bout.close();
		}
		catch (IOException e)
		{
			e.printStackTrace();
		}
	}

	private void readwrite()
	{
		int i = 0;
		/*int j = 0;*/
		int len = 0;
		int flag = 0;
		char s = 0;
		String strLine;
		String temp = null;
		System.out.println("START");
		
		try 
		{
			while (true)  
			{
				strLine = bin.readLine();
				if(strLine == null)
					break;
				
				if(flag == 0)
				{
					if(strLine.equals("p5") || strLine.equals("P5"))
					{
						//System.out.println(strLine);
						strLine="P2";
					}
					
					bout.write(strLine);
					bout.newLine();
					if(strLine.equals("255"))
					{
						//System.out.println(strLine);
						flag = 1;
					}
				}
				else if(flag == 1)
				{
					len=strLine.length();
					for(i=0;i<len;i++)
					{
						s=strLine.charAt(i);
						System.out.println((int)s);
						temp=s+" ";						
					}
					bout.write(temp);
					bout.newLine();
					break;
				}
			}
			
		}
		catch (IOException e2) 
		{
			e2.printStackTrace();
		}
		//System.out.println(temp);
		System.out.println("Finish");
	}

	private void openFiles()
	{
		try 
		{
			bin = new BufferedReader(new FileReader("C:\\images\\MATLAB Screenshot(b).pgm"));
		}
		catch (IOException e) 
		{
			e.printStackTrace();
		}
		try 
		{
			bout = new BufferedWriter(new FileWriter("C:\\images\\MATLAB Screenshot(ba).pgm"));
		}
		catch (IOException e) 
		{
			e.printStackTrace();
		}
		
	}
}
